<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Doces Caseiros ‚Ä¢ Card√°pio</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Fonte -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --glass: rgb(26, 116, 200);
      --glass-strong: rgb(230, 78, 148);
    }
    body { font-family: 'Poppins', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
    /* Sutil brilho ao passar o mouse nos cards */
    .card:hover {
      box-shadow: 0 10px 30px rgb(228, 48, 177);
      transform: translateY(-2px);
    }
    .fade-in {
      animation: fadeIn .25s ease-out both;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(6px); }
      to   { opacity: 1; transform: translateY(0); }
    }
    .backdrop-blur-xl { backdrop-filter: blur(14px); }
    .no-scroll { overflow: hidden; }
  </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-pink-600 via-blue-600 to-blue-700 text-white">
  <!-- Top header -->
  <header class="relative">
    <div class="absolute inset-0 opacity-30 pointer-events-none">
      <!-- Ornamentos com SVGs suaves -->
      <svg class="w-full h-full" preserveAspectRatio="xMidYMid slice">
        <defs>
          <radialGradient id="g1" cx="20%" cy="10%" r="60%">
            <stop offset="0%" stop-color="#ffffff" stop-opacity="0.25"/>
            <stop offset="100%" stop-color="#ffffff" stop-opacity="0"/>
          </radialGradient>
          <radialGradient id="g2" cx="80%" cy="30%" r="50%">
            <stop offset="0%" stop-color="#ffd1dc" stop-opacity="0.35"/>
            <stop offset="100%" stop-color="#ffd1dc" stop-opacity="0"/>
          </radialGradient>
        </defs>
        <rect width="100%" height="100%" fill="url(#g1)"></rect>
        <rect width="100%" height="100%" fill="url(#g2)"></rect>
      </svg>
    </div>

    <div class="relative max-w-6xl mx-auto px-4 pt-10 pb-6">
      <div class="flex items-center justify-between gap-6 flex-wrap"></div>
        <div>
    
       <h1 class="text-3xl sm:text-4xl md:text-5xl font-extrabold leading-tight">
            Doces Maybel
          </h1>
           
</div>
          <p class="text-white/80 mt-2 max-w-prose">
            <h2>Sabor que abra√ßa. Escolha um doce para ver os ingredientes e o valor.</h2>
          </p>
        </div>

        <div class="flex items-center gap-4">
          <a href="https://wa.me/5511986372600" target="_blank" 
             class="flex items-center gap-1 text-white/100 hover:text-green-600 transition">
             <span class="hidden sm:inline">WhatsApp</span>
          </a>
        </div>

        <!-- Barra de busca -->
      <div class="w-full md:w-96 mx-auto mt-4 mb-10">
  <label class="block text-sm text-white/80 mb-2" for="search">Buscar</label>
  <div class="flex items-center gap-2 bg-white/10 border border-white/15 rounded-2xl px-4 py-3 backdrop-blur-xl focus-within:ring-2 focus-within:ring-white/30">
    <span aria-hidden="true">üîé</span>
    <input id="search" type="text" placeholder="Ex.: brigadeiro, bolo, pudim‚Ä¶" class="w-full bg-transparent placeholder-white/60 text-white outline-none">
    <button id="clearSearch" class="text-white/70 hover:text-white transition">Limpar</button>
  </div>
</div>

  </header>

  <!-- Conte√∫do -->
  <main class="relative max-w-6xl mx-auto px-4 pb-20">
    <!-- Categorias simples -->
    <div class="flex flex-wrap items-center gap-3 mb-6">
      <button data-category="todas" class="cat-btn active bg-white/15 text-white px-4 py-2 rounded-full border border-white/20 hover:bg-white/20 transition">Todas</button>
      <button data-category="docinhos goumert" class="cat-btn bg-white/10 text-white px-4 py-2 rounded-full border border-white/10 hover:bg-white/20 transition">Docinhos goumert</button> 
       <button data-category="docinhos tradicional" class="cat-btn bg-white/10 text-white px-4 py-2 rounded-full border border-white/10 hover:bg-white/20 transition">Docinhos tradicional</button>
      <button data-category="sobremesas" class="cat-btn bg-white/10 text-white px-4 py-2 rounded-full border border-white/10 hover:bg-white/20 transition">Sobremesas</button>
    </div>

    <!-- Grid de produtos -->
    <section id="grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"></section>
  </main>

<!-- Painel de detalhes (modal grande centralizado) -->
<div id="overlay" class="hidden fixed inset-0 z-40 bg-black/50"></div>

<div id="detailPanel" 
     class="hidden fixed inset-0 flex items-center justify-center z-50 p-4 fade-in">
  <div class="w-full max-w-2xl bg-white/10 border border-white/20 rounded-3xl p-6 
              backdrop-blur-xl shadow-2xl text-white overflow-y-auto max-h-[90vh]">
    <div class="flex items-start gap-4">
      <div class="w-20 h-20 rounded-2xl bg-white/10 border border-white/20 overflow-hidden flex items-center justify-center shrink-0">
        <img id="detailImage" src="" alt="Imagem do produto" class="w-full h-full object-cover"
             onerror="this.src=''; this.alt='Imagem n√£o carregou'; this.style.display='none';">
        <span class="text-3xl" id="detailFallback">üç∞</span>
      </div>
      <div class="flex-1">
        <div class="flex items-start justify-between gap-4">
          <h3 id="detailTitle" class="text-2xl font-bold">T√≠tulo</h3>
          <button id="closePanel" 
                  class="text-white/80 hover:text-white bg-white/10 border border-white/20 rounded-full px-3 py-1">
            Fechar
          </button>
        </div>
        <p id="detailCategory" class="text-white/70 text-sm mt-1">Categoria</p>

        <div class="mt-4">
          <p class="font-semibold mb-2">Ingredientes:</p>
          <ul id="detailIngredients" class="list-disc list-inside space-y-1 text-white/90"></ul>
        </div>
         
        <div class="mt-4 flex items-center justify-between">
          <div>
            <p class="text-white/70 text-sm">Por√ß√£o</p>
            <p id="detailServing" class="font-semibold">Individual</p>
          </div>
          <div class="text-right">
            <p class="text-white/70 text-sm">Valor</p>
            <p id="detailPrice" class="text-3xl font-extrabold">R$ 0,00</p>
          </div>
        </div>
<div class="mt-4">
        <div class="mt-5 flex items-center gap-3">
          <button id="btnMenos" 
                  class="bg-white/10 border border-white/20 hover:bg-white/20 rounded-full w-10 h-10">‚àí</button>
          <span id="qty" class="min-w-10 text-center font-semibold">1</span>
          <button id="btnMais" 
                  class="bg-white/10 border border-white/20 hover:bg-white/20 rounded-full w-10 h-10">+</button>
          <div class="ml-auto">
            <button id="copyInfo" 
                    class="bg-emerald-400/90 hover:bg-emerald-400 text-emerald-950 font-semibold px-4 py-2 rounded-full shadow">
              Copiar detalhes
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

  <!-- Rodap√© simples -->
  <footer class="relative border-t border-white/10 bg-white/5">
    <div class="max-w-6xl mx-auto px-4 py-8 text-white/80 text-sm flex flex-col sm:flex-row gap-2 sm:items-center sm:justify-between">
      <p>Feito com carinho ‚Ä¢ Doces Caseiros</p>
      <p class="text-white/60">Para encomendas, selecione um doce e copie os detalhes.</p>
    </div>
  </footer>

  <script>
    // Dados dos produtos (amostra pequena)
    const produtos = [
      {
        id: 'brigadeiro-tradicional',
        nome: 'Brigadeiro tradicional',
        imagem: 'https://eadgourmet.com.br/wp-content/uploads/brigadeiro-gourmet-tradicional-500x500.jpg', // Cole aqui a URL completa da sua imagem (ex.: https://...)
        categoria: 'docinhos tradicional' ,
        porcao: 'Cento',
        preco: 105.00,
        ingredientes: ['Leite condensado', 'Cacau 50%', 'Manteiga', 'Granulado ']
      },
      {
        id: 'beijinho-tradicional',
        nome: 'Beijinho Tradicional',
        imagem: 'https://www.mamacida.com.br/image/cache/data/produtos/beijinho-de-coco-650x650.png',
        categoria: 'docinhos tradicional',
        porcao: 'Cento',
        preco: 105.00,
        ingredientes: ['Leite condensado', 'Coco ralado', 'Manteiga', 'Cravo']
      },
      {
        id: 'Brigadeiro de ninho',
        nome: 'Brigadeiro de ninho',
        imagem: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTPGODy18CRSPT6mUTT6mP9Vr31LbVTSedA4w&s',
        categoria: 'docinhos tradicional',
        porcao: 'Cento',
        preco: 105.00,
        ingredientes: ['Leite condensado', 'Coco ralado', 'Manteiga', 'Cravo']
      },
      
      {
        id: 'Brigadeiro bicho de p√©',
        nome: 'Brigadeiro bicho de p√©',
        imagem: 'https://espaconatelie.com.br/wp-content/uploads/2025/03/bicho-de-pe-delicioso-receita-completa.jpg',
        categoria: 'docinhos tradicional',
        porcao: 'Cento',
        preco: 105.00,
        ingredientes: ['Leite condensado', 'Coco ralado', 'Manteiga', 'Cravo']
      },

      {
        id: 'brigadeiro goumert',
        nome: 'Brigadeiro goumert',
        imagem: 'https://harald.com.br/wp-content/uploads/2020/04/briadeirogormet-melken-700x520-1.jpg',
        categoria: 'docinhos goumert',
        porcao: 'cento',
        preco: 120.00,
        ingredientes: ['Leite condensado', 'Cacau 50%','manteiga','granulado belga']
        
      },

      {
        id: 'brigadeiro de pa√ßoca com amendoim',
        nome: 'Brigadeiro de pa√ßoca com amendoim',
        imagem: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ2XhcEabmrHm6Vewpr26X9WSBCvLpfrw97kg&s',
        categoria: 'docinhos goumert',
        porcao: 'cento',
        preco: 120.00,
        ingredientes: ['manteiga','leite condensado','pa√ßoca','creme de leite','amendoim']
        },

      {
        id: 'brigadeiro de chocolate branco',
        nome: 'Brigadeiro de chocolate branco',
        imagem: 'https://i.ytimg.com/vi/1kzWdeUD7-0/maxresdefault.jpg',
        categoria: 'docinhos goumert',
        porcao: 'cento',
        preco: 120.00,
        ingredientes: ['leite condensado','manteiga','chocolate branco']
        
      },

      {
        id: 'brigadeiro de oreo',
        nome: 'Brigadeiro de oreo',
        imagem: 'https://dcdn-us.mitiendanube.com/stores/003/929/349/products/oip-f64f0405c38cc3390a16993836226858-640-0.jpeg',
        categoria: 'docinhos goumert',
        porcao: 'cento',
        preco: 120.00,
        ingredientes: ['leite condensado','creme de leite','oreo','manteiga']
        
      },

      {
        id: 'brigadeiro de churros',
        nome: 'Brigadeiro de churros',
        imagem: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTkjzaZri27WZXWtUMeEIneDZvCgi_f44yWRQ&s',
        categoria: 'docinhos goumert',
        porcao: 'cento',
        preco: 120.00,
        ingredientes: ['leite condensado','doce de leite','manteiga','canela em p√≥','a√ß√∫car refinado']
        
      },

      {
        id: 'brigadeiron de ninho com nutella ',
        nome: 'Brigadeiro de ninho com nutella',
        imagem: 'https://www.doceiguaria.com.br/wp-content/uploads/2021/01/Brigadeiro-de-ninho-com-nutella.jpg',
        categoria: 'docinhos goumert',
        porcao: 'cento',
        preco: 120.00,
        ingredientes: ['leite condensado','leite em p√≥','creme de leite','nutella','manteiga']
        
      },

      {
        id: 'surpresa de uva',
        nome: 'Surpresa de uva',
        imagem: 'https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.sabornamesa.com.br%2Freceitas-de-sobremesas%2Fsurpresa-de-uva&psig=AOvVaw0j8z9AweBZJ78Jgy0w9k7d&ust=1757613907621000&source=images&cd=vfe&opi=89978449&ved=0CBUQjRxqFwoTCODQpJTkzo8DFQAAAAAdAAAAABAE',
        categoria: 'docinhos goumert',
        porcao: 'cento',
        preco: 135.00,
        ingredientes: ['leite condensado','manteiga','creme de leite','uva','leite em p√≥']
        
      },

      {
        id: 'camafeu',
        nome: 'Camafeu',
        imagem: 'https://cdn-indhj.nitrocdn.com/gnzNqtkWEUNjIeWrqKTJTmSOKbpZbYth/assets/images/optimized/rev-37f33c5/moranguinhobolos.com.br/wp-content/uploads/2024/03/IMG-20240317-WA016328129-1.jpg',
        categoria: 'docinhos goumert',
        porcao: 'cento',
        preco: 135.00,
        ingredientes: ['leite condensado','manteiga','nozes mo√≠das','a√ß√∫car de confeiteiro','leite']
        
      },

      {
        id: 'olho de sogra',
        nome: 'Olho de sogra',
        imagem: 'https://cdn.sodiedoces.com.br/wp-content/uploads/2021/11/26110745/olho_de_sogro_615x500px.png',
        categoria: 'docinhos goumert',
        porcao: 'cento',
        preco: 135.00,
      ingredientes: ['coco ralado', 'gema de ovo','ess√™ncia de baunilha', 'margarina sem sal','leite condensado', 'ameixa preta', 'a√ß√∫car cristal']

    },


      {
        id: 'brigadeiro de ovovmaltine',
        nome: 'Brigadeiro de ovomaltine',
        imagem: 'https://docesesalgadosbh.com.br/wp-content/uploads/2018/06/brigadeiro-ovomaltine-02.jpg',
        categoria: 'docinhos goumert',
        porcao: 'cento',
        preco: 120.00,
        ingredientes: ['leite condensado','creme de leite','manteiga','ovovmaltine']
        
      }, 
      
      {
        id: 'barra trufada',
        nome: 'Barra trufada',
        imagem: 'https://lh5.googleusercontent.com/proxy/U0R_I4mYZftsj7YgNLdqEUXPlAQANg094sCCTBuyVM1oAN9UPwpvw6ttugfb0fScnzCEy5T_fH8oPPtgb81udndRcU_vPQgquW7hcVNymrTRPqwJGS_0QaNAmylbBssfv1l6nO-ZA0A9sfuntnEX',
        categoria: 'sobremesas',
        porcao: 'unidade',
        preco: 25.00,
        ingredientes: ['Sabores:','ao leite','ao leite crocante','chocolate branco com oreo','recheios:','brigadeiro','prest√≠gio','ninho','ninho com nutella','brigadeiro crocante','brigadeiro de oreo','nutella'],
      },

      {
        id: 'Bombom de morango',
        nome: 'Bombom de morango',
        imagem: 'https://www.estadao.com.br/resizer/v2/Y256SQVTUFH4HJKBCXFSCBE6YE.jpg?quality=80&auth=3e693e16bf6136668880246182b402ad4fe7e2b9b3db231b29d7c6f563597c9f&width=1200&height=1200&smart=true',
        categoria: 'sobremesas',
        porcao: 'unidade',
        preco: 12.00,
        ingredientes: ['morango', 'brigadeiro branco', 'casquinha de chocolate']
      },
      
      
      {
        id: 'Cone trufado',
        nome: 'Cone trufado',
        imagem: 'https://ateliedealfajor.com/wp-content/uploads/2024/10/conetrufadobrigadeiro.jpg',
        categoria: 'sobremesas',
        porcao: 'Unidade',
        preco: 8.5,
        ingredientes: ['cone recheado com:','Brigadeiro','Prest√≠gio','Ferrero','Ninho com nutella']
      },

      {
        id: 'p√£o de mel',
        nome: 'P√£o de mel',
        imagem: 'https://renata.com.br/images/receitas/176/renata-imagem-receitas-pao-de-mel-share.jpg',
        categoria: 'sobremesas',
        porcao: 'unidade',
        preco: 3.5,
        ingredientes: ['bolo de p√£o de mel, doce de leite','casquinha de chocolate']
        
      },
      {
        id: 'coxinha de morango',
        nome: 'Coxinha de morango',
        imagem: 'https://anamariareceitas.com.br/wp-content/uploads/2023/03/Coxinha-de-Morango-768x576.jpg',
        categoria: 'sobremesas',
        porcao: 'unidade',
        preco: 10.00,
        ingredientes: ['brigadeiro de chocolate ao leite','morango']
        
      },

      {
        id: 'brownie',
        nome: 'Brownie',
        imagem: 'https://moinhoglobo.com.br/wp-content/uploads/2016/02/51-Brownie-1024x682.jpg',
        categoria: 'sobremesas',
        porcao: 'unidade',
        preco: 5.5,
        ingredientes: ['chocolate meio amargo', 'manteiga','a√ß√∫car','farinha de trigo','sal','ovo','','coberturas:','brigadeiro','doce de leite','ninho com nutella'] 
        
      },

      {
        id: 'Banoffe de pote',
        nome: 'Banoffe de pote',
        imagem: 'https://minhasreceitinhas.com.br/wp-content/uploads/2022/07/banoffee-no-pote-scaled.jpg',
        categoria: 'sobremesas',
        porcao: 'unidade',
        preco: 11.5,
        ingredientes: ['Banana','Doce de leite','Biscito maisena','Chantilly','canela em p√≥']
        
      },

    {
        id: 'Pav√™ de pote  ',
        nome: 'Pav√™ de pote',
        imagem: 'https://i.pinimg.com/736x/35/5a/2c/355a2cd3feb9396e2e9bfebe84c7e473.jpg',
        categoria: 'sobremesas',
        porcao: 'unidade',
        preco: 11.5,
        ingredientes: ['Brigadeiro branco','Ganache de chocolate meio amargo','Biscito maisena']
        
      },

        {
            id: 'del√≠cia de abacaxi de pote',
            nome: 'Del√≠cia de abacaxi de pote',
            imagem: 'https://www.sabornamesa.com.br/media/k2/items/cache/2709e1cc5e35415f9cc4502ded3470a8_XL.jpg',
            categoria: 'sobremesas',
            porcao: 'unidade',
            preco: 11.5,
            ingredientes: ['creme de 4 leites','abacaxi','chantilly']
        },
        {
            id: 'bombom de uva de pote',
            nome: 'Bombom de uva de pote',
            imagem: 'https://www.comidaereceitas.com.br/wp-content/uploads/2016/04/Bombom-de-Uva-na-Travessa.jpg',
            categoria: 'sobremesas',
            porcao: 'unidade',
            preco: 11.5,
            ingredientes: ['uva','creme de leite ninho','ganache de chocolate meio amargo']
        },

{
            id: 'escondinho de brownie de pote',
            nome: 'Escondinho de brownie de pote',
            imagem: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRUJtej-dANigGivYtiUAowt253V3gXgioQmQ&s',
            categoria: 'sobremesas',
            porcao: 'unidade',
            preco: 11.5,
            ingredientes: ['brownie','creme de leite ninho']
        },

{
            id: 'mousse trufado de leite ninho de pote',
            nome: 'Mousse trufado de leite ninho de pote',
            imagem: 'https://i.ytimg.com/vi/YqDsK0d1uH4/maxresdefault.jpg',
            categoria: 'sobremesas',
            porcao: 'unidade',
            preco: 11.5,
            ingredientes: ['Mousse de leite ninho','ganache de chocolate meio amargo']
        },
       

{
        id: 'Banoffe de travessa',
        nome: 'Banoffe de travessa',
        imagem: 'https://i.ytimg.com/vi/Xx-oiu-1mnk/maxresdefault.jpg',
        categoria: 'sobremesas',
        porcao: 'unidade',
        preco: 110.00,
        ingredientes: ['Banana','Doce de leite','Biscito maisena','Chantilly','canela em p√≥']
        
      },

      {
        id: 'Pav√™ de travessa  ',
        nome: 'Pav√™ de travessa',
        imagem: 'https://receitatodahora.com.br/wp-content/uploads/2022/10/pave-simples-na-travessa-1200x900.jpg',
        categoria: 'sobremesas',
        porcao: 'unidade',
        preco: 110.00,
        ingredientes: ['Brigadeiro branco','Ganache de chocolate meio amargo','Biscito maisena']
      },
      {
            id: 'del√≠cia de abacaxi de travessa',
            nome: 'Del√≠cia de abacaxi de travessa',
            imagem: 'https://s2-receitas.glbimg.com/YrI1f5sNzTqhcH4W2oWfAW12sxA=/0x0:610x300/984x0/smart/filters:strip_icc()/s.glbimg.com/po/rc/media/2014/03/02/18_22_29_50_1112_610x300.jpg',
            categoria: 'sobremesas',
            porcao: 'unidade',
            preco: 115.00,
            ingredientes: ['creme de 4 leites','abacaxi','chantilly']
        },
         {
            id: 'bombom de uva de travessa',
            nome: 'Bombom de uva de travessa',
            imagem: 'https://i.ytimg.com/vi/NZdiLBbg8fg/sddefault.jpg?v=657b73d0',
            categoria: 'sobremesas',
            porcao: 'unidade',
            preco: 115.00,
            ingredientes: ['uva','creme de leite ninho','ganache de chocolate meio amargo']
        },
        {
            id: 'escondinho de brownie de travessa',
            nome: 'Escondinho de brownie de travessa',
            imagem: 'https://static.tvgazeta.com.br/uploads/2022/10/receitas-faceis-doces-sobremesas-escondidinho-brownie-chocolate.jpg',
            categoria: 'sobremesas',
            porcao: 'unidade',
            preco: 120.00,
            ingredientes: ['brownie','creme de leite ninho']
        },
        {
            id: 'mousse trufado de leite ninho de travessa',
            nome: 'Mousse trufado de leite ninho de travessa',
            imagem: 'https://i.ytimg.com/vi/fs92HVlYKas/maxresdefault.jpg',
            categoria: 'sobremesas',
            porcao: 'unidade',
            preco: 115.00,
            ingredientes: ['Mousse de leite ninho','ganache de chocolate meio amargo']
        },


    ];


    // Estado
    let filtroCategoria = 'todas';
    let consulta = '';
    let selecionado = null;
    let quantidade = 1;

    // Elementos
    const grid = document.getElementById('grid');
    const search = document.getElementById('search');
    const clearSearch = document.getElementById('clearSearch');
    const catBtns = Array.from(document.querySelectorAll('.cat-btn'));

    const overlay = document.getElementById('overlay');
    const panel = document.getElementById('detailPanel');
    const closePanel = document.getElementById('closePanel');

    const detailImage = document.getElementById('detailImage');
    const detailFallback = document.getElementById('detailFallback');
    const detailTitle = document.getElementById('detailTitle');
    const detailCategory = document.getElementById('detailCategory');
    const detailIngredients = document.getElementById('detailIngredients');
    const detailPrice = document.getElementById('detailPrice');
    const detailServing = document.getElementById('detailServing');

    const btnMenos = document.getElementById('btnMenos');
    const btnMais = document.getElementById('btnMais');
    const qty = document.getElementById('qty');
    const copyInfo = document.getElementById('copyInfo');

    // Helpers
    const formatBRL = (valor) => valor.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });

    function renderGrid() {
      grid.innerHTML = '';
      const termo = consulta.trim().toLowerCase();
      const filtrados = produtos.filter(p => {
        const porCategoria = (filtroCategoria === 'todas') || p.categoria === filtroCategoria;
        const porBusca = !termo || p.nome.toLowerCase().includes(termo) || p.ingredientes.some(i => i.toLowerCase().includes(termo));
        return porCategoria && porBusca;
      });

      if (filtrados.length === 0) {
        grid.innerHTML = `
          <div class="col-span-full">
            <div class="bg-white/10 border border-white/15 rounded-2xl p-6 text-center">
              <p class="text-white/80">Nenhum doce encontrado. Tente outra busca ou categoria.</p>
            </div>
          </div>`;
        return;
      }

      filtrados.forEach(p => {
        const card = document.createElement('button');
        card.className = 'card text-left w-full bg-white/10 border border-white/15 rounded-3xl p-5 hover:bg-white/15 transition focus:outline-none focus:ring-2 focus:ring-white/30';
        card.setAttribute('data-id', p.id);
        card.innerHTML = `
          <div class="flex items-start gap-4">
            <div class="w-16 h-16 rounded-2xl bg-white/10 border border-white/20 overflow-hidden flex items-center justify-center shrink-0">
              <img src="${p.imagem || ''}" alt="Imagem do produto" class="w-full h-full object-cover" style="${p.imagem ? '' : 'display:none'}" onerror="this.src=''; this.alt='Imagem n√£o carregou'; this.style.display='none'; this.nextElementSibling.style.display='inline-block';">
              <span class="text-2xl" ${p.imagem ? 'style="display:none"' : ''}>${p.emoji || 'üç¨'}</span>
            </div>
            <div class="flex-1">
              <div class="flex items-center justify-between gap-3">
                <h3 class="font-bold text-lg">${p.nome}</h3>
                <span class="bg-white/15 text-white px-3 py-1 rounded-full text-sm border border-white/20">${formatBRL(p.preco)}</span>
              </div>
              <p class="text-white/70 text-sm mt-1 capitalize">${p.categoria}</p>
              <div class="mt-3 flex items-center justify-between">
                <div class="text-white/80 text-sm line-clamp-1">${p.ingredientes.slice(0,3).join(' ‚Ä¢ ')}${p.ingredientes.length>3 ? '‚Ä¶' : ''}</div>
                <span class="text-pink-200/90 font-medium">Ver detalhes ‚Üí</span>
              </div>
            </div>
          </div>
        `;
        card.addEventListener('click', () => abrirDetalhe(p.id));
        grid.appendChild(card);
      });
    }

    function abrirDetalhe(id) {
      const prod = produtos.find(p => p.id === id);
      if (!prod) return;

      selecionado = prod;
      quantidade = 1;
      qty.textContent = quantidade;

      // Mostra imagem se houver; sen√£o, usa o emoji como reserva
      if (prod.imagem) {
        detailImage.style.display = 'block';
        detailImage.src = prod.imagem;
        detailFallback.textContent = '';
      } else {
        detailImage.style.display = 'none';
        detailImage.src = '';
        detailFallback.textContent = prod.emoji || 'üç¨';
      }
      detailTitle.textContent = prod.nome;
      detailCategory.textContent = prod.categoria.charAt(0).toUpperCase() + prod.categoria.slice(1);
      detailServing.textContent = prod.porcao;
      detailIngredients.innerHTML = '';
      prod.ingredientes.forEach(i => {
        const li = document.createElement('li');
        li.textContent = i;
        detailIngredients.appendChild(li);
      });
      detailPrice.textContent = formatBRL(prod.preco);

      overlay.classList.remove('hidden');
      panel.classList.remove('hidden');
      document.body.classList.add('no-scroll');
    }

    function fecharDetalhe() {
      overlay.classList.add('hidden');
      panel.classList.add('hidden');
      document.body.classList.remove('no-scroll');
      selecionado = null;
    }

    function atualizarPrecoQuantidade() {
      if (!selecionado) return;
      const total = selecionado.preco * quantidade;
      detailPrice.textContent = formatBRL(total);
      qty.textContent = quantidade;
    }

    // Eventos gerais
    catBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        catBtns.forEach(b => b.classList.remove('active', 'bg-white/15', 'border-white/20'));
        catBtns.forEach(b => b.classList.add('bg-white/10', 'border-white/10'));
        btn.classList.add('active');
        btn.classList.remove('bg-white/10', 'border-white/10');
        btn.classList.add('bg-white/15', 'border-white/20');

        filtroCategoria = btn.getAttribute('data-category');
        renderGrid();
      });
    });

    search.addEventListener('input', (e) => {
      consulta = e.target.value;
      renderGrid();
    });

    clearSearch.addEventListener('click', () => {
      consulta = '';
      search.value = '';
      renderGrid();
      search.focus();
    });

    overlay.addEventListener('click', fecharDetalhe);
    closePanel.addEventListener('click', fecharDetalhe);
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') fecharDetalhe();
    });

    btnMais.addEventListener('click', () => {
      quantidade = Math.min(99, quantidade + 1);
      atualizarPrecoQuantidade();
    });
    btnMenos.addEventListener('click', () => {
      quantidade = Math.max(1, quantidade - 1);
      atualizarPrecoQuantidade();
    });

    copyInfo.addEventListener('click', async () => {
      if (!selecionado) return;
      const texto = [
        `üç¨ Pedido - ${selecionado.nome}`,
        `Categoria: ${selecionado.categoria}`,
        `Por√ß√£o: ${selecionado.porcao}`,
        `Quantidade: ${quantidade}`,
        `Ingredientes: ${selecionado.ingredientes.join(', ')}`,
        `Total: ${formatBRL(selecionado.preco * quantidade)}`
      ].join('\n');

      try {
        await navigator.clipboard.writeText(texto);
        copyInfo.textContent = 'Copiado!';
        setTimeout(() => (copyInfo.textContent = 'Copiar detalhes'), 1200);
      } catch {
        // fallback simples
        alert('Copie manualmente:\n\n' + texto);
      }
    });

    // Inicializa√ß√£o
    renderGrid();
  </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'972bc84310f300a9',t:'MTc1NTc5NjYyOS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
  
